# Фронтенд к итоговой работе «Банк»
Данный проект является учебным и выполнен для закрепления изученного материала.
Проект выполнен на чистом JS, HTML, SASS. Адаптивность реализована с помощью медиа запросов. Проект взаимодействует с базой данной в JSON. Подключение сторонних библиотек осущуствляется с помощью NPM. Сборка реализована с помощью webpack. Unit-тесты реализованы с использованием jest. e2e-тесты реализованы с использованием cypress. Часть функцонала реализована с помощью сторонних библиотек:
 * choices-js - для реализации пользовательского селекта;
 * autocompleter - для реализации поиска с автодополнением;
 * chart.js - для постотроения графиков;
 * navigo - для "роутинга";
 * redom - для создания DOM-элементов;
 * ymaps-loader - для создания яндекс карты.

## Установка и запуск проекта

### Бэкенд
1. Для запуска данного проекта вам понадобится nodejs и npm.
2. В папке js-advanced-diploma выполните команду `npm i`.
3. Выполнить команду `npm start` для запуска сервера базы данных.

### Фронтенд
1. Для запуска данного проекта вам понадобится nodejs и npm.
2. В папке bank-frontend выполните команду `npm i` для установки.
4. Для сборки бандла проекта выполните команду `npm run prod`.
3. Для запуска локального сервера выполните команду `npm run dev`.

**Примечание**: Если есть необходимость редактировать scss стили то запустите sass watch в редакторе код.
**Примечание**: Проект корректно работает только на локальном сервере.

**Логин**: developer
**Пароль**: skillbox

## Функционал сайта
1. Реализована страница входа с валидацие полей и предупреждением, если сервер не отвечает.
2. Реализованы следующие страницы:
 * Страница просмотра всех счетов пользвателя;
 * Страница с картой банкоматов;
 * Странца с валютами;
 * Страница счёта;
 * Страница подробной истории счёта.
3. Реализована skeleton загрузка блоков.

### Страница просмотра всех счетов пользователя
1. Реализована сортировка счетов по категориям. Последняя выбраная категория сохраняется в lockalStorage и при следующем открытии страницы сразу применяется.
2. Реаилзована функция добавления нового счёта.
3. При нажатии на "Открыть" открывается страница счёта.
4. Вся информация о счетах приходит с сервера.

### Страница с бартой банкоматов
1. Отображается карта с банкоматами, координаты которых получаем с сервера.

### Страница валют 
1. Реализовано отображение валютного счёта пользователя.
2. Реальизован функционал обмена валют:
 * Поля валидируются;
 * Если с сервера приходит ошибка, то она обрабатывается и отображается соответствующее оповещение;
 * Информаццию о валютах пользователя получаем с сервера.
3. При обмене валюты блок со счетами пользователя обновляется.
4. Реализован блок с отображением изменения курса валют в реальном времени.

### Страница просмотра счёта
1. Отображает информацию о счёте, полученную с сервера.
2. Реализована функция перевода средств.
3. Реализовано автодополнение при введении номера счёта-получателя. Данны для автозаполнения беруться из lockalStorage.
4. После осуществленя превода баланс обноляется.
5. Реализовано отображение последних 10 транзакций.
6. При осуществлении перевода таблица истории обновляется.
7. Реализовано построение графика с помесячным отображением послуплений средств на счёт за послдение 6 месяцев.
8. При клике на таблицу или на график преходим на страниу подробной истории счеёта

### Страница с подробной историей счёта
1. Реализованы 2 графика:
 * Динамика баланса -  графика с помесячным отображением послуплений средств на счёт за послдение 12 месяцев;
 * Соотношение... -  графика с помесячным отображением соотношения положительных и отрицательных транзакций.
2. Реализована тиблица с полной историей транзакций счёта. На странице отображаются по 25 за один раз.

## Тестирование 

### Unit-тесты
1. Для запуска Unit-тестов выполните команду `npm run test`.

**Примечания**
* Тесты описаны в файду `data-utils.test.js`;
* Тестируются функции для обработки данных в файле `data-utils.js`;

### e2e-Тесты
1. Для запуска e2e-тестов выполните команду `npx cypress open`.
2. Выберите `e2e Testing`.
3. Выберите браузер `Electron` и нажмите на кнопку `Start E2E Testing in Electron`.
4. Нажмите на файл с тестами `bank.cy.js`.

**Примечания**
* Для работы тестов проект толжен быть запущен на сервере `http://localhost:3001/`.
* Все тесты описаны в файле `bank.cy.js`.

## Дополнительные задания
1. Адаптив реализован для размеров экранов: 1024px, 728px, 320px
2. Реализована скелетная загрузка для всех страниц
3. Реализовано запоминание последнего параметра сортировки счетов
4. Реализовано запоминание последнего количества крточек счетов с целью создания более правдоподобного скелетона загрузки


